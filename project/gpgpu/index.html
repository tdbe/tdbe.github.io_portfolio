<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
	<head>
		<meta name="author" content="Tudor"/>
		<meta name="keywords" content="PCG, voxels, DX11 Compute, CG, HLSL, Shader, Unity"/>
		<meta name="description" content="MSc. Thesis Project about real-time Procedural Modelling of Cave Systems on the GPU."/> 
		<meta name="robots" content="all"/>
		<title>GPGPU Underground Canyons</title>
		
		<base target="_parent" /> 
		
		<link rel="stylesheet" href="../../css/style.css" type="text/css" title="all purpose css" charset="utf-8">
		<link rel="stylesheet" href="./css/style.css" type="text/css" title="all purpose css" charset="utf-8">
		<link rel="stylesheet" href="../../css/navigationStyle.css" type="text/css" title="navigation" charset="utf-8">	
		<link rel="Shortcut Icon" type="image/x-icon" href="./favicon.ico"/>	
		
		<script src="https://code.jquery.com/jquery-3.1.1.min.js" type="text/javascript" charset="utf-8"></script>
		<script src="../../js/easytabs.js" type="text/javascript" charset="utf-8"></script>
		<script src="../../js/Window.Size.js" type="text/javascript" charset="utf-8"></script>
		<script src="../../js/mainDef.js" type="text/javascript" charset="utf-8"></script>
		
		<script type="text/javascript" charset="utf-8">
		  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
		  ga('create', 'UA-55237302-1', 'auto');
		  ga('send', 'pageview');
		</script>
	</head>


	<body id="zen" class="projZen" >
			<div id="projContainer">
					
					<div id="topBar">
						<a class="backBtn" href="../../">
							<div class="backBg"></div>
							<span>Back</span>
						</a>
					</div>
					<div class="toptitle" id="toptitle">
						<img class="soloImg" src="./images/titleBg.jpg" style="width:100%;"/>
						<div class="shadBott sLeft shadLeft"></div>
						<div class="shadBott sRight shadRight"></div> 
						
						<div id="projHeaderRoot">
							<div id="projHeaderPivot">
								<div class="projHeader1">GPGPU Cave Modeling</div>
								<div class="projHeader2">ITU MSc. Thesis</div>
								<div class="projHeader3">Sept 2014</div>
						</div>
						</div>
					</div>
					<div id="toptitleBg">
						<span id="loading"><div  class="loader"></div><div  class="loader loader2"style=""></div><div  class="loader loader3"style=""></div></span>  
					</div>
					
					<div id="mainColumnProj" style="" >   
					
						<div class="article highlight projPadding" >  
								<p><span id="symbolCnt"><span id="symbol"></span></span><span class="parStart">|</span>A 2-man thesis about researching ways of simulating believable cave environments at interactive rates on the GPU.</p><br/>
								
								<p>It lasted 6 months and involved PCG research, application development, and user testing.</p> 
								<p>Our generation pipeline processes GPU voxel grids with a set of DirectX 11 Compute Shaders. The modelling solution can be thought of as procedurally guided self-intersecting 3D brush strokes of warped distance fields (metaballs), on a solid voxel volume.
								<br/>
								<br/>
								</p>
								


						</div>
						
						
						<p id="galInfo" class="highlight2 projPadding"><span class="parStart">|</span>Cave results:</p>
						<div class="imageRegion">
							<div class="imgContainer">
								<!--img class="soloImg" src=""/-->
								<img class="leftImg" src="./images/cShaderGif438.gif"/>
								<img class="rightImg" src="./images/iceShaderGif438.gif"/> 
								<span class="shadTop sLeft "></span>
								<span class="shadTop sRight "></span> 
								<span class="shadBott sLeft shadLeft"></span>
								<span class="shadBott sRight shadRight"></span> 
							</div> 
						</div>
						
						
						<!--div class="spacer" style="margin-bottom: -16px;"></div>
						<div class="article highlight projPadding">  
						
						<p><span class="parStart">|</span>Paper presented at <a href="http://julian.togelius.com/Mark2015Procedural.pdf" rel="nofollow" target="_blank">Foundations of Digital Games 2015</a>.</p> 
						<br/>
						<p><span class="parStart">|</span>This was proof-of-concept student work in early versions of Unity 4.x (free). 
						<br/>
						
						<a href="https://8a0cc810b07c35c1ff17d2c503f3ad5c93cbf771.googledrive.com/host/0B50afmg1TY-eSHBtNmtYYVdxOG8/alpha.html" rel="nofollow" target="_blank">Here's a test Web Build</a>.<br/>
						<br/>
						Read more about the techniques in the <a href="http://pcgbook.com/" rel="nofollow" target="_blank">PCGBook</a> by Julian Togelius who co-supervised the project.
						<br/>Here's the source with the Unity project on Bitbucket: <a href="https://bitbucket.org/tdbe/pcgcave_sandbox_1" rel="nofollow" target="_blank">https://bitbucket.org/tdbe/pcgc...</a>
						
						</p>
						</div-->
						
			
						<div class="article highlight projPadding " style="margin-bottom: -16px; margin-top:0px;">  
						</div>
						<div class="colunaBox projPadding" >
							<div class="colunas leftColuna">
							<span class="colunaLine">Evolved</span>
							<br/>
							<span class="colunaLine">Grammar</span>
							<br/>
							<span class="colunaLine" style="-moz-transform:scale(1.4032,1); -o-transform:scale(1.4032,1); -ms-transform:scale(1.4032,1); 	-webkit-transform:scale(1.4032,1); transform:scale(1.4032,1); margin-left: 25px;">System</span>
							</div>
							<div class="colunas rightColuna">
							<span class="colunaLine">HLSL</span>
							<br/>
							<span class="colunaLine">Direct</span>
							<br/>
							<span class="colunaLine" style=" margin-right: 10px;">Compute</span>
							</div>
						</div>
						
						<br/>
						<div class="article highlight projPadding" style="margin-bottom: -20px; margin-top:1em;">  

								<p style="font-size: 14px;"><span class="parStart">|</span>The tool implementation consists of three main parts:
								</p> 

						</div>
						
						
						<div class="article highlight projPadding" style="margin-top: -2em;">  
							<p><b>1 - </b>A controllable <span class="bgHighlight">L-system</span> which generates a set of <span class="bgHighlight">structural points</span>.  
							<br/>
							It emulates the expanded cracks, slopes, and passages which form cave structures in nature. 
							</p>
							<P>
							We evolved it and tried to apply a "human fitness function".</p>
						</div>
						
						<div class="imageRegion" >
								<!--img class="soloImg" src=""/-->
								<a href="./images/lSystem.png" rel="nofollow" target="_blank" class="acro"><acronym class="acro" title="open in new tab"><img class="soloImg" src="./images/lSystem.png" style="width:100%; margin-top: -20px;"/></acronym></a>
						</div>
						
						<div class="spacer" style="margin-top: -1em;"></div><br/>
						
						
						<div class="article highlight projPadding" style="margin-top: -2em;">  
							<p><b>2 - </b>A detailing component where we use an array of <span class="bgHighlight">metaballs / distance fields</span> and warp their sampling with layers of <span class="bgHighlight">noise</span> (<span class="bgHighlight">Voronoi</span>, <span class="bgHighlight">Simplex</span>, <span class="bgHighlight">Curl</span>). 
							</p>
							<p>
							The voxel volume is carved along select structural points by this perturbed meta field. 
							<br/>
							<span class="bgHighlight">Cellular Automata</span> stalactites and other voxel filtering and cavern edits are also made at this stage.</p>
							
							<br/><br/>
							<p class="galInfo highlight2 projPadding"><span class="parStart">|</span>A string of cave chambers seen from the outside (backfaces):</p>
						</div>
						
						<div class="imageRegion">
								<!--img class="soloImg" src=""/-->
								<a href="./images/metaRange.png" rel="nofollow" target="_blank" class="acro"><acronym class="acro" title="open in new tab"><img class="soloImg" src="./images/metaRange.png" style="width:100%;margin-top: -20px;"/></acronym></a>
						</div>
						
						
						<div class="spacer"  style="margin-top: -1em;"></div><br/>

						
						
						<div class="article highlight projPadding" style="margin-top: -2em;">  
							<p><b>3 - </b>A component for isosurface extraction (Marching Cubes) and for shading. <br/><br/>
								We calculated fast <span class="bgHighlight">smooth mesh normals</span>, made HLSL procedural <span class="bgHighlight">solid texturing</span> shaders with per-pixel (Forward) Lambert lighting, bump mapping, <span class="bgHighlight">Curled Simplex noise</span>, procedural details (e.g. mineral glitter) etc.</p>
						</div>
						
						<div class="imageRegion">
								<!--img class="soloImg" src=""/-->
								<a href="./images/small-texture2.jpg" rel="nofollow" target="_blank" class="acro"><acronym class="acro" title="open in new tab"><img class="soloImg" src="./images/small-texture2.jpg" style="width:100%;margin-top: -20px;"/></acronym></a>
						</div>

						

						
					
						
						<div class="article highlight projPadding " style="margin-bottom: -10px; margin-top:0em;">  
						</div>
						
						
						<div class="colunaBox projPadding" >
							<div class="colunas leftColuna">
							<span class="colunaLine">Worldspace</span>
							<br/>
							<span class="colunaLine">Curl Noise</span>
							<br/>
							<span class="colunaLine" style="margin-left: 0px;">Solid Texturing</span>
							</div>
							<div class="colunas rightColuna" >
							<!--span class="colunaLine">Meta</span-->
							
							<span class="colunaLine" style="-moz-transform:scale(1.2,1); -o-transform:scale(1.2,1); -ms-transform:scale(1.2,1); 	-webkit-transform:scale(1.2,1); transform:scale(1.2,1); margin-right: 15px;">Distance</span>
							<br/>
							<span class="colunaLine" style="-moz-transform:scale(1.2,1); -o-transform:scale(1.2,1); -ms-transform:scale(1.2,1); 	-webkit-transform:scale(1.2,1); transform:scale(1.2,1); margin-right: 8px;">Field</span>
							<br/>
							<span class="colunaLine" style=" margin-right: 9px;">Distortion</span>
							</div>
						</div>
						
						
						<div class="article highlight projPadding " style="width: 100%; margin-bottom: -4.5em;">  
						</div>




						
						<div class="article highlight projPadding ">  
							
							

						<p><span class="parStart">|</span>The key is the interesting emergent behaviour from when the two main modules (structuring and detailing) interact: when both the l-system and the distance fields intersect with themselves. 
						</div>
						<br/><br/>
						<p class="galInfo highlight2 projPadding"><span class="parStart">|</span>Below you can see a simple example of the procedural "carving":</p>
						<div class="imageRegion">
								<!--img class="soloImg" src=""/-->
								<a href="./images/metaGuideAndVoxels.png" rel="nofollow" target="_blank" class="acro"><acronym class="acro" title="open in new tab"><img class="soloImg" src="./images/metaGuideAndVoxels.png" style="width:100%;"/></acronym></a>
						</div>
						
						<br/><div class="spacer"></div><br/>

						<br/>
						<p class="galInfo highlight2 projPadding"><span class="parStart">|</span> Results:</p>
						<div class="imageRegion">
								<!--img class="soloImg" src=""/-->
								<a href="./images/results.jpg" rel="nofollow" target="_blank" class="acro"><acronym class="acro" title="open in new tab"><img class="soloImg" src="./images/results.jpg" style="width:100%;"/></acronym></a>
						</div>
						
						<br/><div class="spacer"></div><br/>	
						<br/><div class="spacer"></div><br/>
						<!--p  class="galInfo highlight2 projPadding"><span class="parStart">|</span> aaaaaaaaaaaaaaaaaaaaaaaaaaa:</p-->
						<div class="imageRegion">
							<div class="imgContainer">
							
								<!--a href="./images/gridShot160.jpg" rel="nofollow" target="_blank" class="acro"><acronym class="acro" title="open in new tab"><img class="soloImg" src="./images/gridShot160.jpg"/></acronym></a-->
								<!--a href="http://i.imgur.com/CIc0vEQ.jpg" rel="nofollow" target="_blank" class="acro"><acronym class="acro" title="open in new tab"><img class="soloImg" src="./images/gridShot160.jpg"/></acronym></a-->
								<a href="./images/thumbArray.jpg" rel="nofollow" target="_blank" class="acro"><acronym class="acro" title="open in new tab"><img class="soloImg" src="./images/thumbArray.jpg"/></acronym></a>
								<span class="shadTop sLeft "></span>
								<span class="shadTop sRight "></span> 
								<span class="shadBott sLeft shadLeft"></span>
								<span class="shadBott sRight shadRight"></span> 
							</div> 
						</div>
						
						<div class="spacer" style="margin-bottom: -16px;"></div>
						<div class="article highlight projPadding">  
						
						<p><span class="parStart">|</span><a href="http://julian.togelius.com/Mark2015Procedural.pdf" rel="nofollow" target="_blank">Paper presented at Foundations of Digital Games 2015</a> (<a href="./TudorMark2015Procedural.pdf" rel="nofollow" target="_blank">alternate link1</a>, <a href="http://benjaminmark.dk/Mark2015Procedural.pdf" rel="nofollow" target="_blank">alternate link2</a>).</p> 
						<br/>
						<p><span class="parStart">|</span>Here is a proof-of-concept implemented in early free versions of Unity 4.x: 
						
						<!--a href="./surveyBuild/alpha.html" rel="nofollow" target="_blank">[Here's a test webBuild]</a-->
						<a href="./surveyBuild/alpha.html" rel="nofollow" target="_blank">Test Web Build</a>.<br/>
						<br/>
						Read more about the techniques in the <a href="http://pcgbook.com/" rel="nofollow" target="_blank">PCGBook</a> by Julian Togelius who co-supervised the project.
						<!--br/>Here's the source with the Unity project on Bitbucket: <a href="https://bitbucket.org/tdbe/pcgcave_sandbox_1" rel="nofollow" target="_blank">https://bitbucket.org/tdbe/pcgc...</a-->
						
						<br/></p>
						<br/>
						<br/>
						</div>
						
						
						<p class="galInfo highlight2 projPadding"><span class="parStart">|</span> Here is a video of a test run:</p>
						<div class="imageRegion">
							<div class="imgContainer">
								
								<iframe width="880" height="495" src="//www.youtube.com/embed/8g7s-xTTYHQ" frameborder="0" allowfullscreen></iframe>
								
								<span class="shadTop sLeft " ></span>
								<span class="shadTop sRight "></span> 
								<span class="shadBott sLeft shadLeft"></span>
								<span class="shadBott sRight shadRight"></span> 
							</div> 
						</div>
						<br/>
						<br/>
					
						<div class="article highlight projPadding lastParagraph" >  
								<p></p> 

						</div>
					</div>
					
				
				
				
			</div>
			<div id="bottomBar">
				<a class="backBtn" href="../../" style="height:32px;">
					<div class="backBg" style="margin-top: 10px;"></div>
					<span style="padding-top: 10px;">Back</span>
				</a>
			</div>
</body>
</html>